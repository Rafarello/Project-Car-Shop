{"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/controllers/CarsController.ts":{"path":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/controllers/CarsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":11},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":73}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":23}},"6":{"start":{"line":11,"column":8},"end":{"line":26,"column":10}},"7":{"start":{"line":12,"column":29},"end":{"line":12,"column":32}},"8":{"start":{"line":13,"column":12},"end":{"line":25,"column":13}},"9":{"start":{"line":14,"column":31},"end":{"line":14,"column":62}},"10":{"start":{"line":15,"column":16},"end":{"line":17,"column":17}},"11":{"start":{"line":16,"column":20},"end":{"line":16,"column":81}},"12":{"start":{"line":18,"column":16},"end":{"line":20,"column":17}},"13":{"start":{"line":19,"column":20},"end":{"line":19,"column":56}},"14":{"start":{"line":21,"column":16},"end":{"line":21,"column":52}},"15":{"start":{"line":24,"column":16},"end":{"line":24,"column":77}},"16":{"start":{"line":27,"column":8},"end":{"line":42,"column":10}},"17":{"start":{"line":28,"column":27},"end":{"line":28,"column":37}},"18":{"start":{"line":29,"column":12},"end":{"line":32,"column":13}},"19":{"start":{"line":30,"column":16},"end":{"line":31,"column":61}},"20":{"start":{"line":33,"column":12},"end":{"line":41,"column":13}},"21":{"start":{"line":34,"column":28},"end":{"line":34,"column":58}},"22":{"start":{"line":35,"column":16},"end":{"line":37,"column":76}},"23":{"start":{"line":40,"column":16},"end":{"line":40,"column":77}},"24":{"start":{"line":43,"column":8},"end":{"line":59,"column":10}},"25":{"start":{"line":44,"column":27},"end":{"line":44,"column":37}},"26":{"start":{"line":45,"column":29},"end":{"line":45,"column":32}},"27":{"start":{"line":46,"column":12},"end":{"line":58,"column":13}},"28":{"start":{"line":47,"column":35},"end":{"line":47,"column":70}},"29":{"start":{"line":48,"column":16},"end":{"line":50,"column":17}},"30":{"start":{"line":49,"column":20},"end":{"line":49,"column":81}},"31":{"start":{"line":51,"column":16},"end":{"line":53,"column":17}},"32":{"start":{"line":52,"column":20},"end":{"line":52,"column":60}},"33":{"start":{"line":54,"column":16},"end":{"line":54,"column":56}},"34":{"start":{"line":57,"column":16},"end":{"line":57,"column":77}},"35":{"start":{"line":60,"column":8},"end":{"line":75,"column":10}},"36":{"start":{"line":61,"column":27},"end":{"line":61,"column":37}},"37":{"start":{"line":62,"column":12},"end":{"line":74,"column":13}},"38":{"start":{"line":63,"column":35},"end":{"line":63,"column":64}},"39":{"start":{"line":64,"column":16},"end":{"line":66,"column":17}},"40":{"start":{"line":65,"column":20},"end":{"line":65,"column":81}},"41":{"start":{"line":67,"column":16},"end":{"line":69,"column":17}},"42":{"start":{"line":68,"column":20},"end":{"line":68,"column":60}},"43":{"start":{"line":70,"column":16},"end":{"line":70,"column":46}},"44":{"start":{"line":73,"column":16},"end":{"line":73,"column":77}},"45":{"start":{"line":76,"column":8},"end":{"line":76,"column":28}},"46":{"start":{"line":78,"column":18},"end":{"line":78,"column":37}},"47":{"start":{"line":80,"column":0},"end":{"line":80,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":72},"end":{"line":77,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":22},"end":{"line":11,"column":23}},"loc":{"start":{"line":11,"column":42},"end":{"line":26,"column":9}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":27,"column":23},"end":{"line":27,"column":24}},"loc":{"start":{"line":27,"column":43},"end":{"line":42,"column":9}},"line":27},"4":{"name":"(anonymous_4)","decl":{"start":{"line":43,"column":22},"end":{"line":43,"column":23}},"loc":{"start":{"line":43,"column":42},"end":{"line":59,"column":9}},"line":43},"5":{"name":"(anonymous_5)","decl":{"start":{"line":60,"column":22},"end":{"line":60,"column":23}},"loc":{"start":{"line":60,"column":42},"end":{"line":75,"column":9}},"line":60},"6":{"name":"(anonymous_6)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":39}},"line":78}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":53}},"type":"default-arg","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":53}}],"line":9},"4":{"loc":{"start":{"line":9,"column":55},"end":{"line":9,"column":70}},"type":"default-arg","locations":[{"start":{"line":9,"column":63},"end":{"line":9,"column":70}}],"line":9},"5":{"loc":{"start":{"line":15,"column":16},"end":{"line":17,"column":17}},"type":"if","locations":[{"start":{"line":15,"column":16},"end":{"line":17,"column":17}},{"start":{"line":15,"column":16},"end":{"line":17,"column":17}}],"line":15},"6":{"loc":{"start":{"line":18,"column":16},"end":{"line":20,"column":17}},"type":"if","locations":[{"start":{"line":18,"column":16},"end":{"line":20,"column":17}},{"start":{"line":18,"column":16},"end":{"line":20,"column":17}}],"line":18},"7":{"loc":{"start":{"line":29,"column":12},"end":{"line":32,"column":13}},"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":32,"column":13}},{"start":{"line":29,"column":12},"end":{"line":32,"column":13}}],"line":29},"8":{"loc":{"start":{"line":29,"column":16},"end":{"line":29,"column":52}},"type":"binary-expr","locations":[{"start":{"line":29,"column":16},"end":{"line":29,"column":32}},{"start":{"line":29,"column":36},"end":{"line":29,"column":52}}],"line":29},"9":{"loc":{"start":{"line":35,"column":23},"end":{"line":37,"column":75}},"type":"cond-expr","locations":[{"start":{"line":36,"column":22},"end":{"line":36,"column":47}},{"start":{"line":37,"column":22},"end":{"line":37,"column":75}}],"line":35},"10":{"loc":{"start":{"line":48,"column":16},"end":{"line":50,"column":17}},"type":"if","locations":[{"start":{"line":48,"column":16},"end":{"line":50,"column":17}},{"start":{"line":48,"column":16},"end":{"line":50,"column":17}}],"line":48},"11":{"loc":{"start":{"line":51,"column":16},"end":{"line":53,"column":17}},"type":"if","locations":[{"start":{"line":51,"column":16},"end":{"line":53,"column":17}},{"start":{"line":51,"column":16},"end":{"line":53,"column":17}}],"line":51},"12":{"loc":{"start":{"line":64,"column":16},"end":{"line":66,"column":17}},"type":"if","locations":[{"start":{"line":64,"column":16},"end":{"line":66,"column":17}},{"start":{"line":64,"column":16},"end":{"line":66,"column":17}}],"line":64},"13":{"loc":{"start":{"line":67,"column":16},"end":{"line":69,"column":17}},"type":"if","locations":[{"start":{"line":67,"column":16},"end":{"line":69,"column":17}},{"start":{"line":67,"column":16},"end":{"line":69,"column":17}}],"line":67}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":2,"9":2,"10":2,"11":0,"12":2,"13":0,"14":2,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":1,"47":1},"f":{"0":2,"1":1,"2":2,"3":0,"4":0,"5":0,"6":1},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[1],"4":[1],"5":[0,2],"6":[0,2],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"inputSourceMap":{"version":3,"file":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/controllers/CarsController.ts","sources":["/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/controllers/CarsController.ts"],"names":[],"mappings":"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","sourcesContent":["import { Request, Response } from 'express';\nimport Controller, { RequestWithBody, ResponseError } from '.';\nimport { Car } from '../interfaces/CarInterface';\nimport CarsService from '../services/CarsService';\n\nclass CarsController extends Controller<Car> {\n  private _route : string;\n\n  constructor(\n    service = new CarsService(),\n    route = '/cars',\n  ) {\n    super(service);\n    this._route = route;\n  }\n\n  get route() { return this._route; }\n\n  create = async (\n    req: RequestWithBody<Car>,\n    res: Response<Car | ResponseError>,\n  ): Promise<typeof res> => {\n    const { body } = req;\n    try {\n      const newCar = await this.service.create(body);\n      \n      if (!newCar) {\n        return res.status(500).json({ error: this.errors.internal });\n      }\n      if ('error' in newCar) {\n        return res.status(400).json(newCar);\n      }\n      return res.status(201).json(newCar);\n    } catch (e) {\n      return res.status(500).json({ error: this.errors.internal });\n    }\n  };\n\n  readOne = async (\n    req: Request<{ id: string }>,\n    res: Response<Car | ResponseError>,\n  ): Promise<typeof res> => {\n    const { id } = req.params;\n    if (id.length !== 24 || id === undefined) {\n      return res.status(400)\n        .json({ error: this.errors.badRequest });\n    }\n    try {\n      const car = await this.service.readOne(id);\n      return car \n        ? res.status(200).json(car)\n        : res.status(404).json({ error: this.errors.notFound });\n    } catch (e) {\n      return res.status(500).json({ error: this.errors.internal });\n    }\n  };\n\n  update = async (\n    req: Request<{ id: string }, Car>,\n    res: Response<Car | ResponseError>,\n  ): Promise<typeof res | null> => {\n    const { id } = req.params;\n    const { body } = req;\n    try {\n      const carUpdated = await this.service.update(id, body);\n      if (!carUpdated) {\n        return res.status(404).json({ error: this.errors.notFound });\n      }\n      if ('error' in carUpdated) {\n        return res.status(400).json(carUpdated);\n      }\n      return res.status(201).json(carUpdated);\n    } catch (error) {\n      return res.status(500).json({ error: this.errors.internal });\n    }\n  };\n\n  delete = async (\n    req: Request<{ id: string }>,\n    res: Response<Car | ResponseError>,\n  ): Promise<typeof res> => {\n    const { id } = req.params;\n    try {\n      const carDeleted = await this.service.delete(id);\n      if (!carDeleted) {\n        return res.status(404).json({ error: this.errors.notFound });\n      }\n      if ('error' in carDeleted) {\n        return res.status(400).json(carDeleted);\n      }\n      return res.status(204).json();\n    } catch (e) {\n      return res.status(500).json({ error: this.errors.internal });\n    }\n  };\n}\n\nexport default new CarsController();"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9d0e0c307f34b09e90ce37ae8311fbc639f79db9"},"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/controllers/index.ts":{"path":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/controllers/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":9,"column":48}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":59}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":54}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":54}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":51}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":31}},"7":{"start":{"line":13,"column":8},"end":{"line":13,"column":39}},"8":{"start":{"line":14,"column":8},"end":{"line":22,"column":10}},"9":{"start":{"line":15,"column":12},"end":{"line":21,"column":13}},"10":{"start":{"line":16,"column":29},"end":{"line":16,"column":54}},"11":{"start":{"line":17,"column":16},"end":{"line":17,"column":38}},"12":{"start":{"line":20,"column":16},"end":{"line":20,"column":77}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":1},"end":{"line":4,"column":2}},"loc":{"start":{"line":4,"column":29},"end":{"line":9,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":25},"end":{"line":23,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":20},"end":{"line":14,"column":21}},"loc":{"start":{"line":14,"column":41},"end":{"line":22,"column":9}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":3},"end":{"line":9,"column":46}},"type":"binary-expr","locations":[{"start":{"line":9,"column":3},"end":{"line":9,"column":19}},{"start":{"line":9,"column":24},"end":{"line":9,"column":45}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":1,"1":1,"2":0},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/controllers/index.ts","sources":["/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/controllers/index.ts"],"names":[],"mappings":";;AAWA,IAAK,gBAKJ;AALD,WAAK,gBAAgB;IACnB,sDAAkC,CAAA;IAClC,iDAA6B,CAAA;IAC7B,iDAA6B,CAAA;IAC7B,8CAA0B,CAAA;AAC5B,CAAC,EALI,gBAAgB,KAAhB,gBAAgB,QAKpB;AAED,MAAe,UAAU;IAKvB,YAAmB,OAAmB;QAAnB,YAAO,GAAP,OAAO,CAAY;QAF5B,WAAM,GAAG,gBAAgB,CAAC;QASpC,SAAI,GAAG,KAAK,EACV,IAAa,EACb,GAAkC,EACb,EAAE;YACvB,IAAI;gBACF,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;gBACvC,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACvB;YAAC,OAAO,GAAG,EAAE;gBACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;aAC9D;QACH,CAAC,CAAC;IAjBwC,CAAC;CAiC5C;AACD,kBAAe,UAAU,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport Service from '../services';\n\nexport type ResponseError = {\n  error: unknown;\n};\n\nexport interface RequestWithBody<T> extends Request {\n  body: T;\n}\n\nenum ControllerErrors {\n  internal = 'Internal Server Error',\n  notFound = 'Object not found',\n  requiredId = 'Id is required',\n  badRequest = 'Bad request',\n}\n\nabstract class Controller<T> {\n  abstract route: string;\n\n  protected errors = ControllerErrors;\n\n  constructor(public service: Service<T>) { }\n\n  abstract create(\n    req: RequestWithBody<T>,\n    res: Response<T | ResponseError>,\n  ): Promise<typeof res>;\n\n  read = async (\n    _req: Request,\n    res: Response<T[] | ResponseError>,\n  ): Promise<typeof res> => {\n    try {\n      const objs = await this.service.read();\n      return res.json(objs);\n    } catch (err) {\n      return res.status(500).json({ error: this.errors.internal });\n    }\n  };\n\n  abstract readOne(\n    req: Request<{ id: string; }>,\n    res: Response<T | ResponseError>\n  ): Promise<typeof res>;\n\n  abstract update(\n    req: Request<{ id: string }, T>,\n    res: Response<T | ResponseError>\n  ): Promise<typeof res | null>;\n\n  abstract delete(\n    req: Request<{ id: string; }>,\n    res: Response<T | ResponseError>\n  ): Promise<typeof res | null>;\n}\nexport default Controller;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"22fd913f31f89b13fd9a2374746549037446bc7e"},"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/services/CarsService.ts":{"path":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/services/CarsService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":11},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":67}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":60}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":21}},"7":{"start":{"line":12,"column":8},"end":{"line":18,"column":10}},"8":{"start":{"line":13,"column":27},"end":{"line":13,"column":66}},"9":{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},"10":{"start":{"line":15,"column":16},"end":{"line":15,"column":47}},"11":{"start":{"line":17,"column":12},"end":{"line":17,"column":42}},"12":{"start":{"line":19,"column":8},"end":{"line":30,"column":10}},"13":{"start":{"line":20,"column":29},"end":{"line":20,"column":66}},"14":{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},"15":{"start":{"line":22,"column":16},"end":{"line":22,"column":49}},"16":{"start":{"line":24,"column":27},"end":{"line":24,"column":66}},"17":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"18":{"start":{"line":26,"column":16},"end":{"line":26,"column":47}},"19":{"start":{"line":28,"column":25},"end":{"line":28,"column":57}},"20":{"start":{"line":29,"column":12},"end":{"line":29,"column":24}},"21":{"start":{"line":31,"column":8},"end":{"line":38,"column":10}},"22":{"start":{"line":32,"column":29},"end":{"line":32,"column":66}},"23":{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},"24":{"start":{"line":34,"column":16},"end":{"line":34,"column":49}},"25":{"start":{"line":36,"column":25},"end":{"line":36,"column":52}},"26":{"start":{"line":37,"column":12},"end":{"line":37,"column":24}},"27":{"start":{"line":41,"column":0},"end":{"line":41,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":51},"end":{"line":39,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":22},"end":{"line":12,"column":23}},"loc":{"start":{"line":12,"column":37},"end":{"line":18,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":22},"end":{"line":19,"column":23}},"loc":{"start":{"line":19,"column":41},"end":{"line":30,"column":9}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":31,"column":22},"end":{"line":31,"column":23}},"loc":{"start":{"line":31,"column":36},"end":{"line":38,"column":9}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":49}},"type":"default-arg","locations":[{"start":{"line":10,"column":24},"end":{"line":10,"column":49}}],"line":10},"4":{"loc":{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},{"start":{"line":14,"column":12},"end":{"line":16,"column":13}}],"line":14},"5":{"loc":{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},{"start":{"line":21,"column":12},"end":{"line":23,"column":13}}],"line":21},"6":{"loc":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},{"start":{"line":25,"column":12},"end":{"line":27,"column":13}}],"line":25},"7":{"loc":{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},{"start":{"line":33,"column":12},"end":{"line":35,"column":13}}],"line":33}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":0,"11":2,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1},"f":{"0":2,"1":1,"2":2,"3":0,"4":0},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[1],"4":[0,2],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"file":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/services/CarsService.ts","sources":["/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/services/CarsService.ts"],"names":[],"mappings":";;;;;AAAA,yCAA0C;AAC1C,oEAA4C;AAC5C,6DAAsE;AAEtE,MAAM,WAAY,SAAQ,UAAY;IACpC,YAAY,KAAK,GAAG,IAAI,mBAAS,EAAE;QACjC,KAAK,CAAC,KAAK,CAAC,CAAC;QAGf,WAAM,GAAG,KAAK,EAAE,GAAQ,EAA+B,EAAE;YACvD,MAAM,MAAM,GAAG,wBAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACxC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;gBACnB,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC;aAChC;YACD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAChC,CAAC,CAAC;QAEF,WAAM,GAAG,KAAK,EAAE,EAAU,EAAE,GAAQ,EAAsC,EAAE;YAC1E,MAAM,QAAQ,GAAG,uBAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YACxC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;gBACrB,OAAO,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAK,EAAE,CAAC;aAClC;YACD,MAAM,MAAM,GAAG,wBAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACxC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;gBACnB,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC;aAChC;YACD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;YAC9C,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;QAEF,WAAM,GAAG,KAAK,EAAE,EAAU,EAAsC,EAAE;YAChE,MAAM,QAAQ,GAAG,uBAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YACxC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;gBACrB,OAAO,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAK,EAAE,CAAC;aAClC;YACD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACzC,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;IA9BF,CAAC;CA+BF;AAED,kBAAe,WAAW,CAAC","sourcesContent":["import Service, { ServiceError } from '.';\nimport CarsModel from '../models/CarsModel';\nimport { Car, CarSchema, IdSchema } from '../interfaces/CarInterface';\n\nclass CarsService extends Service<Car> {\n  constructor(model = new CarsModel()) {\n    super(model);\n  }\n\n  create = async (obj: Car): Promise<Car | ServiceError> => {\n    const parsed = CarSchema.safeParse(obj);\n    if (!parsed.success) {\n      return { error: parsed.error };\n    }\n    return this.model.create(obj);\n  };\n\n  update = async (id: string, obj: Car): Promise<Car | null | ServiceError> => {\n    const parsedID = IdSchema.safeParse(id);\n    if (!parsedID.success) {\n      return { error: parsedID.error };\n    }\n    const parsed = CarSchema.safeParse(obj);\n    if (!parsed.success) {\n      return { error: parsed.error };\n    }\n    const data = await this.model.update(id, obj);    \n    return data;\n  };\n\n  delete = async (id: string): Promise<Car | null | ServiceError> => {\n    const parsedID = IdSchema.safeParse(id);\n    if (!parsedID.success) {\n      return { error: parsedID.error };\n    }\n    const data = await this.model.delete(id);    \n    return data;\n  };\n}\n\nexport default CarsService;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97be8e38da06c3ee0bf91301d1da6fb7b96266e5"},"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/services/index.ts":{"path":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/services/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":27}},"2":{"start":{"line":8,"column":8},"end":{"line":8,"column":38}},"3":{"start":{"line":11,"column":8},"end":{"line":11,"column":33}},"4":{"start":{"line":14,"column":8},"end":{"line":14,"column":38}},"5":{"start":{"line":17,"column":8},"end":{"line":17,"column":42}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":37}},"7":{"start":{"line":23,"column":0},"end":{"line":23,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":23},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":22},"end":{"line":9,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":17},"end":{"line":12,"column":5}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":22},"end":{"line":15,"column":5}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":26},"end":{"line":18,"column":5}},"line":16},"5":{"name":"(anonymous_5)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":21},"end":{"line":21,"column":5}},"line":19}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/services/index.ts","sources":["/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/services/index.ts"],"names":[],"mappings":";;AAOA,MAAe,OAAO;IACpB,YAAsB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;IAAI,CAAC;IAEnC,KAAK,CAAC,MAAM,CAAC,GAAM;QACxB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC;IAEM,KAAK,CAAC,IAAI;QACf,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,EAAU;QAC7B,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,EAAS,EAAE,GAAM;QACnC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,EAAU;QAC5B,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;CACF;AAED,kBAAe,OAAO,CAAC","sourcesContent":["import { ZodError } from 'zod';\nimport Model from '../models/MongoModel';\n\nexport interface ServiceError {\n  error: ZodError;\n}\n\nabstract class Service<T> {\n  constructor(protected model: Model<T>) { }\n\n  public async create(obj: T): Promise<T | null | ServiceError> {\n    return this.model.create(obj);\n  }\n\n  public async read(): Promise<T[]> {\n    return this.model.read();\n  }\n\n  public async readOne(id: string): Promise<T | null | ServiceError> {\n    return this.model.readOne(id);\n  }\n\n  public async update(id:string, obj: T): Promise<T | null | ServiceError> {\n    return this.model.update(id, obj);\n  }\n\n  public async delete(id: string): Promise<T | null | ServiceError> {\n    return this.model.delete(id);\n  }\n}\n\nexport default Service;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fc2f77070be0286594445968cf72e9602c2583e7"},"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/models/CarsModel.ts":{"path":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/models/CarsModel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":24},"end":{"line":18,"column":2}},"6":{"start":{"line":21,"column":8},"end":{"line":21,"column":21}},"7":{"start":{"line":24,"column":0},"end":{"line":24,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":72},"end":{"line":22,"column":5}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":20,"column":16},"end":{"line":20,"column":70}},"type":"default-arg","locations":[{"start":{"line":20,"column":24},"end":{"line":20,"column":70}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1]},"inputSourceMap":{"version":3,"file":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/models/CarsModel.ts","sources":["/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/models/CarsModel.ts"],"names":[],"mappings":";;;;;AAAA,uCAAwD;AACxD,8DAAsC;AAGtC,MAAM,eAAe,GAAG,IAAI,iBAAM,CAAM;IACtC,KAAK,EAAE,MAAM;IACb,IAAI,EAAE,MAAM;IACZ,KAAK,EAAE,MAAM;IACb,MAAM,EAAE,OAAO;IACf,QAAQ,EAAE,MAAM;IAChB,QAAQ,EAAE,MAAM;IAChB,QAAQ,EAAE,MAAM;CACjB,EAAE;IACD,UAAU,EAAE,KAAK;CAClB,CAAC,CAAC;AAEH,MAAM,SAAU,SAAQ,oBAAe;IACrC,YAAY,KAAK,GAAG,IAAA,gBAAW,EAAC,MAAM,EAAE,eAAe,CAAC;QACtD,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;CACF;AAED,kBAAe,SAAS,CAAC","sourcesContent":["import { Schema, model as createModel } from 'mongoose';\nimport MongoModel from './MongoModel';\nimport { Car } from '../interfaces/CarInterface';\n\nconst CarsModelSchema = new Schema<Car>({\n  model: String,\n  year: Number,\n  color: String,\n  status: Boolean,\n  buyValue: Number,\n  doorsQty: Number,\n  seatsQty: Number,\n}, {\n  versionKey: false,\n});\n\nclass CarsModel extends MongoModel<Car> {\n  constructor(model = createModel('Cars', CarsModelSchema)) {\n    super(model);\n  }\n}\n\nexport default CarsModel;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0fcad20c1085b0b83bcccbff858e15c7bb02fb54"},"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/models/MongoModel.ts":{"path":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/models/MongoModel.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":6,"column":8},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":8},"end":{"line":7,"column":67}},"3":{"start":{"line":7,"column":37},"end":{"line":7,"column":66}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":50}},"5":{"start":{"line":8,"column":32},"end":{"line":8,"column":49}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":69}},"7":{"start":{"line":9,"column":37},"end":{"line":9,"column":68}},"8":{"start":{"line":10,"column":8},"end":{"line":11,"column":70}},"9":{"start":{"line":10,"column":41},"end":{"line":11,"column":69}},"10":{"start":{"line":12,"column":8},"end":{"line":13,"column":43}},"11":{"start":{"line":12,"column":36},"end":{"line":13,"column":42}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":23},"end":{"line":14,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":22},"end":{"line":7,"column":23}},"loc":{"start":{"line":7,"column":37},"end":{"line":7,"column":66}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":20},"end":{"line":8,"column":21}},"loc":{"start":{"line":8,"column":32},"end":{"line":8,"column":49}},"line":8},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":23},"end":{"line":9,"column":24}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":68}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":10,"column":22},"end":{"line":10,"column":23}},"loc":{"start":{"line":10,"column":41},"end":{"line":11,"column":69}},"line":10},"5":{"name":"(anonymous_5)","decl":{"start":{"line":12,"column":22},"end":{"line":12,"column":23}},"loc":{"start":{"line":12,"column":36},"end":{"line":13,"column":42}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":2,"4":1,"5":0,"6":1,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1},"f":{"0":1,"1":2,"2":0,"3":0,"4":0,"5":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/models/MongoModel.ts","sources":["/home/rafarello/Trybe_Turma_14B/projects/Back_End/sd-014-b-project-car-shop/src/models/MongoModel.ts"],"names":[],"mappings":";AAAA,4BAA4B;;AAK5B,MAAe,UAAU;IACvB,YAAsB,KAAW;QAAX,UAAK,GAAL,KAAK,CAAM;QAEjC,WAAM,GAAG,KAAK,EAAE,GAAM,EAAc,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;QAErE,SAAI,GAAG,KAAK,IAAkB,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QAEnD,YAAO,GAAG,KAAK,EAAE,EAAU,EAAqB,EAAE,CAChD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;QAElC,WAAM,GAAG,KAAK,EAAE,EAAU,EAAE,GAAM,EAAqB,EAAE,CAAC,IAAI,CAAC,KAAK;aACjE,gBAAgB,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;QAE5D,WAAM,GAAG,KAAK,EAAE,EAAU,EAAqB,EAAE,CAAC,IAAI,CAAC,KAAK;aACzD,gBAAgB,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;IAbI,CAAC;CAcvC;AAED,kBAAe,UAAU,CAAC","sourcesContent":["// src/Models/MongoModel.ts`\n\nimport { Model as M } from 'mongoose';\nimport { Model } from '../interfaces/ModelInterface';\n\nabstract class MongoModel<T> implements Model<T> {\n  constructor(protected model: M<T>) { }\n\n  create = async (obj: T): Promise<T> => this.model.create({ ...obj });\n\n  read = async (): Promise<T[]> => this.model.find();\n\n  readOne = async (id: string): Promise<T | null> =>\n    this.model.findOne({ _id: id });\n  \n  update = async (id: string, obj: T): Promise<T | null> => this.model\n    .findOneAndUpdate({ _id: id }, { ...obj }, { new: true });\n\n  delete = async (id: string): Promise<T | null> => this.model\n    .findOneAndDelete({ _id: id });\n}\n\nexport default MongoModel;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"34f62c3a427db0258b0f4d61533d40f3f873cf1b"}}